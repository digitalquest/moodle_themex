$(document).ready(function()
{
	/********** Responsive breadcrumbs ********************/
	toggle_ellipses();
	$(window).resize(function() {
		toggle_ellipses();    
	});
	/********** Responsive breadcrumbs ********************/
	$("#id_sendstudentnotifications").val('0'); //set value of 'Notify student' to 'No'. Should be 'No' by default
	
	if ( $("#id_workflowstate").val()!="released" ) { // workflow isnt't Released
        hide_notify();
	}
				
	$("#id_workflowstate").change(function () {
		if ($(this).val() == "released") {
			show_notify();
		}
		else {
			hide_notify();
		}
	});
	
	function hide_notify() {
		$("#id_sendstudentnotifications").val('0') //set value of 'Notify student' to 'No'
										 .hide(); // hide 'Notify student'
		$("label[for='id_sendstudentnotifications']").hide(); //hide the associated label
	}
	
	function show_notify() {
		$("#id_sendstudentnotifications").show() //show 'Notify student'
		$("label[for='id_sendstudentnotifications']").show(); // Show the label
	}

	function toggle_ellipses() {
  		var ellipses1 = $("#ellipses");
  		var hiddencount = $("#bc1 li:hidden").length;
  		if ($("#bc1 li:hidden").length > 0) {
	    	ellipses1.show();
	    	console.log("hidden count: " + hiddencount + " => show")
	  	} else {
	    	ellipses1.hide();
	    	console.log("hidden count: " + hiddencount + " => hide")
	  	}
	}
		
});
